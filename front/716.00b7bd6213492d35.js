"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[716],{1716:(M,d,s)=>{s.r(d),s.d(d,{LoginModule:()=>w});var c=s(6814),a=s(5082),i=s(95),g=s(8180),m=s(9530),t=s(6689),p=s(2169),u=s(8672),f=s(1154);function h(n,r){1&n&&(t.TgZ(0,"div"),t._uU(1,"Email is required"),t.qZA())}function v(n,r){1&n&&(t.TgZ(0,"div"),t._uU(1,"Password is required "),t.qZA())}function x(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"form",3),t.NdJ("ngSubmit",function(){t.CHM(e);const l=t.oxw();return t.KtG(l.loginUser())}),t.TgZ(1,"div")(2,"h1"),t._uU(3," Login "),t.qZA()(),t.TgZ(4,"div",4)(5,"div",5)(6,"label",6),t._uU(7,"Email"),t.qZA(),t._UZ(8,"input",7),t.qZA(),t.TgZ(9,"div",8),t.YNc(10,h,2,0,"div",9),t.qZA()(),t.TgZ(11,"div",4)(12,"div",5)(13,"label",6),t._uU(14,"Password"),t.qZA(),t._UZ(15,"input",10),t.qZA(),t.TgZ(16,"div",8),t.YNc(17,v,2,0,"div",9),t.qZA()(),t.TgZ(18,"div",11)(19,"button",12),t._uU(20,"Login"),t.qZA()()()}if(2&n){const e=t.oxw();t.Q6J("formGroup",e.loginForm),t.xp6(8),t.Q6J("formControl",e.emailInput),t.xp6(2),t.Q6J("ngIf",e.emailInput.invalid&&(e.emailInput.dirty||e.emailInput.touched)),t.xp6(5),t.Q6J("formControl",e.passwordInput),t.xp6(2),t.Q6J("ngIf",e.passwordInput.invalid&&(e.passwordInput.dirty||e.passwordInput.touched))}}function b(n,r){1&n&&(t.TgZ(0,"div",13),t._UZ(1,"ngx-spinner",14),t.qZA()),2&n&&(t.xp6(1),t.Q6J("fullScreen",!1))}const y=[{path:"",component:(()=>{var n;class r{constructor(o,l,I,Z,L){this.router=o,this.store=l,this.spinner=I,this.formBuilder=Z,this.authServ=L,this.loadingState=!1,this.loginForm=this.formBuilder.group({email:new i.NI("",[i.kI.required,i.kI.email]),password:new i.NI("",[i.kI.required])})}ngOnInit(){this.store.select(m.d).subscribe(o=>{this.user=o})}get emailInput(){return this.loginForm.get("email")}get passwordInput(){return this.loginForm.get("password")}loginUser(){this.spinner.show("primary"),this.loadingState=!0,this.authServ.login(this.emailInput.value,this.passwordInput.value).pipe((0,g.q)(1)).subscribe(o=>{setTimeout(()=>{this.spinner.hide(),this.loadingState=!1,this.authServ.setPermissions(o.jwt),this.router.navigate(["/user",this.user.id])},3e3)})}}return(n=r).\u0275fac=function(o){return new(o||n)(t.Y36(a.F0),t.Y36(p.yh),t.Y36(u.t2),t.Y36(i.qu),t.Y36(f.e))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-login"]],decls:4,vars:3,consts:[[1,"login-page"],["action","","class","login-form",3,"formGroup","ngSubmit",4,"ngIf"],["class","login-form",4,"ngIf"],["action","",1,"login-form",3,"formGroup","ngSubmit"],[1,"form-input-container"],[1,"form-input"],["for","email",1,"input-label"],["id","email","placeholder","Email","name","email","type","text","required","",1,"input-box",3,"formControl"],[1,"input-errors"],[4,"ngIf"],["placeholder","Password","type","text","required","",1,"input-box",3,"formControl"],[1,"btn-container"],["type","submit",1,"submit-btn"],[1,"login-form"],["size","medium","template","<img src='../../../assets/805.gif' />","bdColor","rgba(1, 1, 1, 1)",1,"spinner",3,"fullScreen"]],template:function(o,l){1&o&&(t.TgZ(0,"div",0),t.YNc(1,x,21,5,"form",1),t.YNc(2,b,2,1,"div",2),t._uU(3),t.qZA()),2&o&&(t.xp6(1),t.Q6J("ngIf",!l.loadingState),t.xp6(1),t.Q6J("ngIf",l.loadingState),t.xp6(1),t.hij(" ",l.emailInput.value,"\n"))},dependencies:[c.O5,i._Y,i.Fj,i.JJ,i.JL,i.Q7,i.oH,i.sg,u.Ro],styles:[".login-page[_ngcontent-%COMP%]{height:90vh;width:100%;background-color:#414b56;display:flex;flex-direction:column;align-items:center;justify-content:center}.login-form[_ngcontent-%COMP%]{position:relative;height:50%;width:50%;background-color:#000;color:#fff;display:flex;flex-direction:column;align-items:center;justify-content:space-around;border-radius:1rem;border-style:solid;border-width:thin;border-color:#00f}.form-input-container[_ngcontent-%COMP%]{height:20%;width:50%;display:flex;flex-direction:column;align-items:center;justify-content:center}.form-input[_ngcontent-%COMP%]{height:80%;width:90%;display:flex;flex-direction:row;align-items:center;justify-content:space-around}.input-label[_ngcontent-%COMP%]{height:100%;width:25%;display:flex;flex-direction:column;align-items:center;justify-content:center}.input-errors[_ngcontent-%COMP%]{height:20%;width:90%;display:flex;flex-direction:column;align-items:center;justify-content:space-around}.input-box[_ngcontent-%COMP%]{height:50%;width:75%}.btn-container[_ngcontent-%COMP%]{height:20%;width:50%;display:flex;flex-direction:row;align-items:center;justify-content:center}.submit-btn[_ngcontent-%COMP%]{height:2rem;width:5rem;background-color:#0c0c2c;color:#add8e6;border-radius:1rem;border-style:solid;border-width:thin;border-color:#00f}.spinner[_ngcontent-%COMP%]{height:50%;width:50%;position:absolute;border-radius:1rem}"]}),r})()}];let C=(()=>{var n;class r{}return(n=r).\u0275fac=function(o){return new(o||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[a.Bz.forChild(y),a.Bz]}),r})(),w=(()=>{var n;class r{}return(n=r).\u0275fac=function(o){return new(o||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[c.ez,C,i.UX,u.ef,a.Bz]}),r})()}}]);