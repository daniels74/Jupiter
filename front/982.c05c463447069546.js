"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[982],{982:(T,c,r)=>{r.r(c),r.d(c,{RegisterModule:()=>_});var h=r(6814),l=r(649),n=r(6223),g=r(4664),u=r(9530),t=r(9212),a=r(8672),m=r(1154),f=r(2169);function p(i,d){1&i&&(t.TgZ(0,"div"),t._uU(1,"Email is required "),t.qZA())}function w(i,d){1&i&&(t.TgZ(0,"div"),t._uU(1,"Password is required "),t.qZA())}function v(i,d){if(1&i){const e=t.EpF();t.TgZ(0,"form",3),t.NdJ("ngSubmit",function(){t.CHM(e);const s=t.oxw();return t.KtG(s.registerUser())}),t.TgZ(1,"div")(2,"h1"),t._uU(3," Register "),t.qZA()(),t.TgZ(4,"div",4)(5,"div",5)(6,"label",6),t._uU(7,"Email"),t.qZA(),t._UZ(8,"input",7),t.qZA(),t.TgZ(9,"div",8),t.YNc(10,p,2,0,"div",9),t.qZA()(),t.TgZ(11,"div",4)(12,"div",5)(13,"label",6),t._uU(14,"Password"),t.qZA(),t._UZ(15,"input",10),t.qZA(),t.TgZ(16,"div",8),t.YNc(17,w,2,0,"div",9),t.qZA()(),t.TgZ(18,"div",11)(19,"button",12),t._uU(20,"Register"),t.qZA()()()}if(2&i){const e=t.oxw();t.Udp("width",e.container_width)("height",e.container_height),t.Q6J("formGroup",e.registerForm),t.xp6(4),t.Udp("width",e.form_input_container_width)("height",e.form_input_container_height),t.xp6(4),t.Q6J("formControl",e.emailControl),t.xp6(2),t.Q6J("ngIf",e.emailControl.invalid&&(e.emailControl.dirty||e.emailControl.touched)),t.xp6(1),t.Udp("width",e.form_input_container_width)("height",e.form_input_container_height),t.xp6(4),t.Q6J("formControl",e.passwordControl),t.xp6(2),t.Q6J("ngIf",e.passwordControl.invalid&&(e.passwordControl.dirty||e.passwordControl.touched))}}function C(i,d){if(1&i&&(t.TgZ(0,"div",13),t._UZ(1,"ngx-spinner",14),t.qZA()),2&i){const e=t.oxw();t.Udp("width",e.container_width)("height",e.container_height),t.xp6(1),t.Q6J("fullScreen",!1)}}const x=[{path:"",component:(()=>{class i{constructor(e,o,s,y,Z){this.spinner=e,this.authServ=o,this.formBuilder=s,this.router=y,this.store=Z,this.loadingState=!1,this.container_width=window.innerWidth<=700?"95%":"50%",this.container_height=window.innerWidth<=700?"75%":"50%",this.form_input_container_width=window.innerWidth<=700?"100%":"50%",this.form_input_container_height=(window,"20%"),this.registerForm=this.formBuilder.group({email:new n.NI("",[n.kI.required]),password:new n.NI("",[n.kI.required])})}ngOnInit(){this.store.select(u.d).subscribe(e=>{this.user=e})}get emailControl(){return this.registerForm.get("email")}get passwordControl(){return this.registerForm.get("password")}registerUser(){this.spinner.show("primary"),this.loadingState=!0,this.authServ.register(this.emailControl.value,this.passwordControl.value).pipe((0,g.w)(e=>(console.log("Usercreated",e),this.authServ.login(this.emailControl.value,this.passwordControl.value)))).subscribe(e=>{setTimeout(()=>{this.spinner.hide(),this.loadingState=!1,this.authServ.setPermissions(e.jwt),this.router.navigate(["/user",this.user.id])},3e3)})}static#t=this.\u0275fac=function(o){return new(o||i)(t.Y36(a.t2),t.Y36(m.e),t.Y36(n.qu),t.Y36(l.F0),t.Y36(f.yh))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-register"]],decls:3,vars:2,consts:[[1,"register-page"],["action","","class","register-form",3,"formGroup","width","height","ngSubmit",4,"ngIf"],["class","login-form",3,"width","height",4,"ngIf"],["action","",1,"register-form",3,"formGroup","ngSubmit"],[1,"form-input-container"],[1,"form-input"],["for","email",1,"input-label"],["id","email","placeholder","Email","name","email","type","text",1,"input-box",3,"formControl"],[1,"input-errors"],[4,"ngIf"],["placeholder","Password","type","text","required","",1,"input-box",3,"formControl"],[1,"btn-container"],["type","submit",1,"submit-btn"],[1,"login-form"],["size","medium","template","<img src='../../../assets/805.gif' />","bdColor","rgba(1, 1, 1, 1)",1,"spinner",3,"fullScreen"]],template:function(o,s){1&o&&(t.TgZ(0,"div",0),t.YNc(1,v,21,17,"form",1)(2,C,2,5,"div",2),t.qZA()),2&o&&(t.xp6(1),t.Q6J("ngIf",!s.loadingState),t.xp6(1),t.Q6J("ngIf",s.loadingState))},dependencies:[n._Y,n.Fj,n.JJ,n.JL,n.Q7,n.oH,n.sg,h.O5,a.Ro],styles:[".register-page[_ngcontent-%COMP%]{height:90vh;width:100%;background-color:#414b56;display:flex;flex-direction:column;align-items:center;justify-content:center}.register-form[_ngcontent-%COMP%]{position:relative;height:50%;width:50%;background-color:#000;color:#fff;display:flex;flex-direction:column;align-items:center;justify-content:space-around;border-radius:1rem;border-style:solid;border-width:thin;border-color:#00f}.form-input-container[_ngcontent-%COMP%]{height:20%;width:50%;display:flex;flex-direction:column;align-items:center;justify-content:center}.form-input[_ngcontent-%COMP%]{height:80%;width:90%;display:flex;flex-direction:row;align-items:center;justify-content:space-around}.input-label[_ngcontent-%COMP%]{height:100%;width:25%;display:flex;flex-direction:column;align-items:center;justify-content:center}.input-errors[_ngcontent-%COMP%]{height:20%;width:90%;display:flex;flex-direction:column;align-items:center;justify-content:space-around}.input-box[_ngcontent-%COMP%]{height:50%;width:75%}.btn-container[_ngcontent-%COMP%]{height:20%;width:50%;display:flex;flex-direction:row;align-items:center;justify-content:center}.submit-btn[_ngcontent-%COMP%]{height:2rem;width:5rem;background-color:#0c0c2c;color:#add8e6;border-radius:1rem;border-style:solid;border-width:thin;border-color:#00f}.spinner[_ngcontent-%COMP%]{height:50%;width:50%;position:absolute;border-radius:1rem}"]})}return i})()}];let b=(()=>{class i{static#t=this.\u0275fac=function(o){return new(o||i)};static#e=this.\u0275mod=t.oAB({type:i});static#i=this.\u0275inj=t.cJS({imports:[l.Bz.forChild(x),l.Bz]})}return i})(),_=(()=>{class i{static#t=this.\u0275fac=function(o){return new(o||i)};static#e=this.\u0275mod=t.oAB({type:i});static#i=this.\u0275inj=t.cJS({imports:[n.UX,n.u5,h.ez,b,a.ef]})}return i})()}}]);